services:
  alphag:
    build: .
    container_name: alphag_stock_analysis
    ports:
      - "5002:5002"
    environment:
      - PYTHONDONTWRITEBYTECODE=1
      - PYTHONUNBUFFERED=1
    volumes:
      - .:/app
      - ./logs:/app/logs  # 可选：挂载日志目录
    restart: unless-stopped
    # 健康检查（可选但推荐）
    # healthcheck:
    #   test: ["CMD", "curl", "-f", "http://localhost:5001/"]
    #   interval: 30s
    #   timeout: 10s
    #   retries: 3
    #   start_period: 5s

# 注意：首次运行前，请确保创建 .env 文件并设置 GOOGLE_API_KEY