# 前端页面预览说明

## 📄 定价页面 (`/pricing`)

### 页面结构

#### 1. 顶部标题区域
- **标题**: "选择适合您的计划"
- **副标题**: "灵活的定价方案，满足不同需求"

#### 2. 用户额度信息卡片（登录后显示）
显示三个关键指标：
- **总剩余额度**: 所有有效额度的总和
- **今日免费额度**: 今天还可以使用的免费次数
- **当前订阅**: 显示订阅状态（免费版/Plus会员/Pro会员）

#### 3. 周期切换开关
- **月度/年度切换**: 点击切换按钮可以在月度和年度之间切换
- **年度优惠提示**: 显示"节省17%"的提示

#### 4. 订阅计划卡片（3个）

##### 免费版
- 价格: ¥0
- 描述: "适合偶尔使用的用户"
- 功能:
  - ✅ 每天 2 次股票分析
  - ✅ 基础分析报告
  - ❌ 无期权分析
  - ❌ 无深度研报
- 按钮: "当前计划"（禁用状态）

##### Plus 会员（推荐，带"推荐"标签）
- 价格: ¥399/月 或 ¥3990/年
- 描述: "1000次查询/月，适合活跃投资者"
- 功能:
  - ✅ 1000次查询/月（年度12000次）
  - ✅ AI 深度分析
  - ✅ 期权分析
  - ✅ 优先支持
- 按钮: "订阅 Plus"（蓝色主按钮）

##### Pro 会员
- 价格: ¥999/月 或 ¥9990/年
- 描述: "5000次查询/月，适合专业投资者"
- 功能:
  - ✅ 5000次查询/月（年度60000次）
  - ✅ 所有功能
  - ✅ 深度研报
  - ✅ 专属支持
- 按钮: "订阅 Pro"（次要按钮样式）

#### 5. 额度加油包区域
标题: "额度加油包"
描述: "一次性购买，永久有效，适合偶尔需要额外额度的用户"

两个卡片：

##### 100次加油包
- 价格: ¥29
- 有效期: 永久有效
- 按钮: "立即充值"

##### 500次加油包（带"节省10%"标签）
- 价格: ¥129
- 有效期: 永久有效
- 优惠提示: "节省10%"
- 按钮: "立即充值"

### 设计特点

1. **深色主题**: 使用深色背景（#0f172a）和卡片（#1e293b）
2. **渐变效果**: 背景使用渐变，卡片有悬停效果
3. **响应式设计**: 使用Grid布局，自适应不同屏幕尺寸
4. **交互反馈**: 
   - 卡片悬停时上浮并显示边框高亮
   - 按钮有hover效果
   - 加载状态显示spinner

### 功能特性

1. **自动加载额度信息**: 页面加载时自动调用 `/api/payment/credits` 获取用户额度
2. **周期切换**: 点击切换按钮动态更新价格和描述
3. **支付跳转**: 点击订阅/充值按钮后：
   - 调用 `/api/payment/create-checkout-session` 创建支付会话
   - 跳转到Stripe托管的支付页面
4. **支付结果处理**: 
   - 支付成功: 显示提示并刷新额度信息
   - 支付取消: 静默处理，不显示错误

### 技术实现

- **前端框架**: 原生JavaScript + Bootstrap Icons
- **支付集成**: Stripe.js (v3)
- **样式**: 内联CSS，使用CSS变量
- **模板引擎**: Jinja2 (Flask)

### 页面截图说明

页面布局：
```
┌─────────────────────────────────────────┐
│           选择适合您的计划              │
│      灵活的定价方案，满足不同需求        │
├─────────────────────────────────────────┤
│  [我的额度信息卡片 - 登录后显示]        │
├─────────────────────────────────────────┤
│  月度  [切换开关]  年度 节省17%         │
├─────────────────────────────────────────┤
│  ┌──────┐  ┌──────┐  ┌──────┐         │
│  │免费版│  │ Plus │  │ Pro  │         │
│  │  ¥0  │  │ ¥399 │  │ ¥999 │         │
│  └──────┘  └──────┘  └──────┘         │
├─────────────────────────────────────────┤
│           额度加油包                    │
│  ┌──────┐  ┌──────┐                   │
│  │100次 │  │500次 │                   │
│  │ ¥29  │  │ ¥129 │                   │
│  └──────┘  └──────┘                   │
└─────────────────────────────────────────┘
```

## 🎨 颜色方案

- **主色**: #3b82f6 (蓝色)
- **成功色**: #10b981 (绿色)
- **警告色**: #f59e0b (黄色)
- **背景**: #0f172a (深蓝黑)
- **卡片**: #1e293b (深灰蓝)
- **文字主色**: #e2e8f0 (浅灰)
- **文字次要**: #94a3b8 (中灰)

## 📱 响应式断点

- **移动端**: < 768px (单列布局)
- **平板**: 768px - 1024px (2列布局)
- **桌面**: > 1024px (3列布局)

## 🔗 相关文件

- 模板文件: `templates/pricing.html`
- API端点: `/api/payment/*` (在 `payment_module/routes.py`)
- 样式: 内联在模板中
